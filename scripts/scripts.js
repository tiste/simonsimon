"use strict";var Simon=function(){},app=new Simon,keys={49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9"};Simon.prototype.init=function(){var t=this;$(".new-game").on("click",function(){t.newGame()})},Simon.prototype.newGame=function(){this.sequence=[],this.current=[],this.round=0,this["continue"]=!0,this.preventPlaying(),this.nextRound()},Simon.prototype.nextRound=function(){this.sequence.push(this.randomNumber()),this.current=this.sequence.slice(0),this.animate()},Simon.prototype.randomNumber=function(){return Math.floor(9*Math.random()+1)},Simon.prototype.press=function(t){var n=this.current.shift();this.highlight(t),this["continue"]=n==t,this.canContinue()},Simon.prototype.canContinue=function(){0===this.current.length&&this["continue"]?(this.preventPlaying(),this.nextRound()):this["continue"]||(this.preventPlaying(),alert("YOU LOSE"))},Simon.prototype.letsPlay=function(){var t=this;$(".container").on("click",".tile[data-tile]",function(){t.press($(this).data("tile"))}),$(document).on("keypress",function(n){var e=n.which?n.which:n.keyCode;t.press(keys[e])})},Simon.prototype.preventPlaying=function(){$(".container").off("click",".tile[data-tile]"),$(document).off("keypress")},Simon.prototype.animate=function(){var t=0,n=this,e=this.sequence,i=setInterval(function(){n.highlight(e[t]),t++,t>=e.length&&(clearInterval(i),n.letsPlay())},600)},Simon.prototype.highlight=function(t){var n=$(".tile[data-tile="+t+"]").addClass("pressed");setTimeout(function(){n.removeClass("pressed")},300)},app.init();